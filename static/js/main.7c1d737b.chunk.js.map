{"version":3,"sources":["table.js","index.js"],"names":["TableRow","_ref","row","rowNumber","showRegularRank","react_default","a","createElement","scope","style","fontWeight","fontStyle","rank","name","title","rating","score","wins","draws","losses","Table","this","props","w","d","l","className","players","map","item","key","table_TableRow","React","Component","App","_React$Component","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","tc","handleClassicalWinChange","bind","assertThisInitialized","handleClassicalDrawChange","handleClassicalLossesChange","handleSelectChange","handleTimeControlSelectChange","inherits","createClass","value","setState","blitz","rapid","event","target","objectSpread","updatedText","p","player","multisort","type","onChange","table","rootElement","document","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.7c1d737b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst TableRow = ({ row, rowNumber, showRegularRank }) => (\n  <tr>\n    <th scope=\"row\">{rowNumber} {showRegularRank ? <span style={{fontWeight: \"normal\", fontStyle: \"italic\"}}>({row.rank})</span> : null}</th>\n    <td>{row.name}</td>\n    <td>{row.title}</td>\n    <td>{row.rating}</td>\n    <td><b>{row.score}</b></td>\n    <td>{row.wins}</td>\n    <td>{row.draws}</td>\n    <td>{row.losses}</td>\n  </tr>\n);\n\nclass Table extends React.Component {\n  render() {\n    let showRegularRank = false;\n\n    if (!(this.props.w == 1 && this.props.d == 0.5 && this.props.l == 0)) {\n      showRegularRank = true;\n    }\n\n    return (\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Title</th>\n            <th scope=\"col\">Rating</th>\n            <th scope=\"col\">Score</th>\n            <th scope=\"col\" title=\"Classical wins\">Wins</th>\n            <th scope=\"col\" title=\"Classical draws\">Draws</th>\n            <th scope=\"col\" title=\"Classical losses\">Losses</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.players.map((item, key) => (\n            <TableRow key={key} row={item} rowNumber={key + 1} showRegularRank={showRegularRank} />\n          ))}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default Table;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Table from \"./table.js\";\nimport rapid from \"./data/results_rapid.json\";\nimport blitz from \"./data/results_blitz.json\";\nimport multisort from \"multisort\";\n\nimport \"./styles.css\";\n\nexport class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { players: [], w: 1, d: 0.5, l: 0, tc: \"blitz\" };\n\n    this.handleClassicalWinChange = this.handleClassicalWinChange.bind(this);\n    this.handleClassicalDrawChange = this.handleClassicalDrawChange.bind(this);\n    this.handleClassicalLossesChange = this.handleClassicalLossesChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.handleTimeControlSelectChange = this.handleTimeControlSelectChange.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.state.tc === \"blitz\") {\n      this.setState({players: blitz});\n    } else {\n      this.setState({players: rapid});      \n    }\n  }\n\n  handleClassicalWinChange(event) {\n    this.setState({ w: event.target.value });\n  }\n\n  handleClassicalDrawChange(event) {\n    this.setState({ d: event.target.value });\n  }\n\n  handleClassicalLossesChange(event) {\n    this.setState({ l: event.target.value });\n  }\n\n  handleSelectChange(event) {\n    switch(event.target.value) {\n      case \"regular\":\n        this.setState({ w: 1, d: 0.5, l: 0});\n        break;\n      case \"football\":\n        this.setState({ w: 3, d: 1, l: 0 });\n        break;\n    }\n  }\n\n  handleTimeControlSelectChange(event) {\n    switch(event.target.value) {\n      case \"blitz\":\n        this.setState({...this.state, tc: \"blitz\", players: blitz});\n        break;\n      case \"rapid\":\n        this.setState({...this.state, tc: \"rapid\", players: rapid});\n        break;\n    }\n  }\n\n  render() {\n    const title = this.state.tc === \"blitz\" ? \"World Blitz Championship 2019\" : \"World Rapid Championship 2019\";\n    const updatedText = this.state.tc === \"blitz\" ? \"Updated during round 13\" : \"Updated after the final round\";\n\n    let p = this.state.players.map(function(player) {\n      return {\n        ...player,\n        score:\n        player.wins * this.state.w +\n        player.draws * this.state.d +\n        player.losses * this.state.l\n      };\n    }, this);\n\n    const criteria = [\n      \"~score\",\n      \"~tb1\",\n      \"~tb2\",\n      \"~tb3\"\n    ]\n\n    multisort(p, criteria);\n\n    return (\n      <div className=\"wrapper\">\n        <h3>{title} <span className=\"badge badge-secondary\">{updatedText}</span></h3>\n        <div className=\"form-inline\">\n          <div className=\"input-group mb-4 mr-sm-4\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Points for win</div>\n            </div>\n            <input type=\"number\" className=\"form-control\" value={this.state.w} onChange={this.handleClassicalWinChange} />\n          </div>\n\n          <div className=\"input-group mb-4 mr-sm-4\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Points for draw</div>\n            </div>\n            <input type=\"number\" className=\"form-control\" value={this.state.d} onChange={this.handleClassicalDrawChange} />\n          </div>\n\n          <div className=\"input-group mb-4 mr-sm-4\">\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">Points for loss</div>\n            </div>\n            <input type=\"number\" className=\"form-control\" value={this.state.l} onChange={this.handleClassicalLossesChange} />\n          </div>\n        </div>\n\n        <div className=\"form-group row\">\n          <label className=\"col-sm-2 col-form-label\"><b>Tournament</b></label>\n          <div className=\"col-sm-4\">\n            <select className=\"form-control mb-2 mr-sm-2\" onChange={this.handleTimeControlSelectChange}>\n              <option value=\"blitz\">World Blitz Championship 2019</option>\n              <option value=\"rapid\">World Rapid Championship 2019</option>\n            </select>\n          </div>\n          </div>\n\n        <div className=\"form-group row\">\n          <label className=\"col-sm-2 col-form-label\"><b>Scoring preset</b></label>\n          <div className=\"col-sm-4\">\n            <select className=\"form-control mb-2 mr-sm-2\" onChange={this.handleSelectChange}>\n              <option value=\"regular\">Regular</option>\n              <option value=\"football\">Football</option>\n            </select>\n          </div>\n    </div>\n        <Table players={p} w={this.state.w} d={this.state.d} l={this.state.l} />\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}